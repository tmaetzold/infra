---
# Main task file - includes OS-specific tasks based on distribution family

- name: Gather facts if not already gathered
  ansible.builtin.setup:
  when: ansible_os_family is not defined

- name: Remove unwanted packages
  ansible.builtin.package:
    name: "{{ remove_packages }}"
    state: absent

- name: Install common packages
  ansible.builtin.package:
    name: "{{ add_packages }}"
    state: present

- name: Set timezone
  community.general.timezone:
    name: "{{ timezone }}"
  when: timezone is defined
